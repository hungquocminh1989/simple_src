document.addEventListener("DOMContentLoaded",function(e){function t(){var e="https://sgwidget.leaderapps.co/v2/api/newsletter-signup",t="",s="",c="";t=n(document.getElementById("sg_email")?document.getElementById("sg_email").value:document.getElementById("email").value),document.getElementById("sg_signup_first_name")&&(s=n(document.getElementById("sg_signup_first_name").value)),document.getElementById("sg_signup_last_name")&&(c=n(document.getElementById("sg_signup_last_name").value));var o=new FormData;o.append("email",t),o.append("first_name",s),o.append("last_name",c),o.append("token",a.dataset.token);var r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.open("POST",e,!0),r.onload=function(){var e=JSON.parse(r.responseText);200==r.status?e.message.indexOf("error")!==-1?(d.disabled=!1,F(e.message,"error")):u(e):500==r.status&&F(e.message,"error")},r.send(o)}function u(e){e.success_redirect_url&&""!=e.success_redirect_url?window.location=e.success_redirect_url:F(e.message,"success")}function F(e,t){document.getElementById("sg-response").className="",document.getElementById("sg-response").className+="sg-response "+t,document.getElementById("sg-response").innerHTML=e,document.getElementById("sg-response").style.display="block"}function n(e){var t=/(<([^>]+)>)/gi;return e.replace(t,"")}function s(e){var t=/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;return t.test(e)}var d=document.getElementById("sg-submit-btn"),a=document.getElementById("sg-widget");d.addEventListener("click",function(e){var u="";return u=n(document.getElementById("sg_email")?document.getElementById("sg_email").value:document.getElementById("email").value),u&&s(u)?document.getElementById("sg_consent_checkbox")&&(sg_consent_checkbox=document.getElementById("sg_consent_checkbox"),1==!sg_consent_checkbox.checked)?(F("Please tick the box to accept our conditions","error"),void sg_consent_checkbox.focus()):(d.disabled=!0,void t()):void F("Please enter a valid email address","error")},!1)});